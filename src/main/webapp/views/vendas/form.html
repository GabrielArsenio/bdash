<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
    <h1 class="h2">{{vm.titulo}}</h1>
</div>
<form>
    <div class="form-row">
        <div class="form-group col-md-1">
            <label for="id">CÃ³digo</label>
            <input disabled type="number" ng-class="{'is-invalid': vm.error.id}" ng-model="vm.registro.id" class="form-control" id="id" ui-mask="99/99/9999">
            <small ng-if="vm.error.id" class="invalid-feedback">
                {{vm.error.id[1]}}
            </small>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="loja">Loja</label>
            <select ng-model="vm.registro.loja" ng-options="x.nome for x in vm.lojas" ng-class="{'is-invalid': vm.error.loja}" class="form-control" id="loja">
            </select>
            <small ng-if="vm.error.loja" class="invalid-feedback">
                {{vm.error.loja[1]}}
            </small>
        </div>
        <div class="form-group col-md-6">
            <label for="funcionario">Vendedor</label>
            <select ng-model="vm.registro.funcionario" ng-options="x.nome for x in vm.funcionarios" ng-class="{'is-invalid': vm.error.funcionario}" class="form-control" id="funcionario">
            </select>
            <small ng-if="vm.error.funcionario" class="invalid-feedback">
                {{vm.error.funcionario[1]}}
            </small>
        </div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Nome</th>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in vm.registro.itens">
                <th scope="row">{{item.sequencia}}</th>
                <td>
                    <select ng-model="vm.registro.itens[$index].produto" ng-options="x.nome for x in vm.produtos" ng-class="{'is-invalid': vm.error.produto}" class="form-control" id="produto">
                    </select>
                </td>
                <td class="text-right">
                    <button ng-click="vm.excluirItem(item)" class="btn btn-sm btn-link text-danger py-0">
                        <span class="feather icon-trash-2"></span>
                    </button>
                </td>
                <td>
                    <button ng-if="$index === vm.registro.itens.length - 1" type="button" ng-click="vm.adicionarItem()" class="btn pull-right">Novo Item</button>
                </td>
            </tr>
        </tbody>
    </table>

    <button type="button" ng-click="vm.salvar()" class="btn btn-primary">Salvar</button>
    <a ui-sref="vendasList" class="btn btn-danger">Cancelar</button>
</form>